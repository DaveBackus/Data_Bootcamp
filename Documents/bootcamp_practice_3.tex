\documentclass[11pt]{exam}

\input{../../LaTeX/preamble.tex}

% document starts here
\begin{document}
\parskip=\bigskipamount
\parindent=0.0in
\thispagestyle{empty}
\input{../../LaTeX/header.tex}

\bigskip\bigskip
\centerline{\Large \bf Data Bootcamp:  Code Practice \#3}
\centerline{Revised: \today}

{\it Answer each of the questions below.
We recommend code with comments, printed out and submitted in hardcopy.}

\begin{questions}
\item Enter and run this code in Spyder to produce the dataframe \texttt{weo}:
%\vspace{-0.15in}
\begin{verbatim}
import pandas as pd
data = {'BRA': [13.37, 13.30, 14.34, 15.07, 15.46, 15.98, 16.10],
        'JPN': [33.43, 31.83, 33.71, 34.29, 35.60, 36.79, 37.39],
        'USA': [48.30, 46.91, 48.31, 49.72, 51.41, 52.94, 54.60],
        'Year': [2008, 2009, 2010, 2011, 2012, 2013, 2014]}
weo  = pd.DataFrame(data)
\end{verbatim}
%\vspace{-0.15in}
The numbers are GDP per person in thousands of US dollars, 2008 to 2014,
variable PPPPC in the IMF's {\it World Economic Outlook\/} database.

\begin{parts}
\item Explain the \texttt{import} statement.
\item What type of object is {\tt data}?
\item Why does the last line have {\tt pd} prior to the {\tt DataFrame} function?
\item What type of object is {\tt weo}?
\item How many rows does it have?  Columns?
\item What {\tt dtypes} are the variables/columns?  What does this mean?
\item {\it Challenging.\/}
Find and apply a method to convert {\tt weo['Year']} to type {\tt float}. 
{\it Hint:\/} The method begins with the letter {\tt a}. 
\item Describe the result of the statement \texttt{t = weo.tail(3)}.
What kind of object is \texttt{t}?  What does it look like?
\item How would you create a new dataframe that consists of the first 4 rows of \texttt{weo}?
\item What type of object is \texttt{weo['BRA']}?
\item Create a new variable equal to the ratio of Brazil's GDP per capita to Japan's.
\item {\it Challenging.\/}
Use the {\tt drop()} method to eliminate this (new) variable from the dataframe.
\item What are {\tt weo}'s row and column labels?
\item Set the index equal to the {\tt Year} variable.
\item Change the names of the other variables to Brazil, Japan, and United States.
\item Export the dataframe to an Excel spreadsheet.
\item What method would you use to compute the mean for each country?
What are the means?
\item {\it Challenging.\/}
How would you compute means across countries for each year?
\item Plot the data by applying a {\tt plot} method to {\tt weo}.
\item {\it Challenging.\/} Change the colors of the lines to green (Brazil), red (Japan),
and blue (US).
\item {\it Challenging.\/}
Do the same plot with a log scale.  
{\it Hint:\/} Read the documentation for the plot method.  
\item Plot Brazil on its own.
\end{parts}


% ----------------------------------------------------------------------------
\item Use \verb|read_csv()| to read the responses of our class entry poll from 

\vspace{0.1in}
\centerline{\url{http://pages.stern.nyu.edu/~dbackus/Data/Data-Bootcamp-entry-poll_s16.csv}}
\vspace{0.1in}

\begin{parts}
\item Read the file.
\item Describe its contents.  What are the variables?  The responses?
\item What data types are the variables?
\item Change the variable names to something shorter.
\item {\it Challenging.\/}
Describe what this code does:
\begin{verbatim}
ep[list(ep)[1]].value_counts()
\end{verbatim}
{\it Suggestion:\/} Break it into two statements and explain them one at a time.
\end{parts}


% ----------------------------------------------------------------------------
\item  Consider the 538 college majors data at {\tt url}:
\begin{verbatim}
url1 = 'https://raw.githubusercontent.com/fivethirtyeight/data/master/'
url2 = 'college-majors/recent-grads.csv'
url = url1 + url2
\end{verbatim}
The variables are described at

\vspace{0.1in}
\centerline{\url{https://github.com/fivethirtyeight/data/tree/master/college-majors}}
\vspace{0.1in}

\begin{parts}

\item Create a dataframe {\tt df538} from the csv file at {\tt url} using
\verb|read_csv()|.
What are its dimensions?

\item What argument/parameter would you use to read only
the first ten lines of the file?

\item Extract the variables numbered \texttt{[2, 4, 15, 16, 17]}.
What are the names of these variables?
What do they represent?

\item Set the index equal to {\tt Major}.

\item Use the \verb|sort_values()| method to sort the data by {\tt Total}.

\item What code would you use to extract the ten majors with the greatest number of people?

\item {\it Challenging.\/}
Construct horizontal bar charts of the top ten majors sorted, first, by median salary
and, second, by the salary of the 25th percentile.
\end{parts}

\end{questions}


\end{document}
